<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Login • WeatherApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <style>
        /* fallback if style.css not loaded */
        body {
            font-family: system-ui, Arial, sans-serif;
            margin: 0;
            padding: 24px
        }
    </style>
</head>

<body>
    <div class="landing-word" style="text-align:center; margin-bottom:24px;">
        <img src="logo2.png" alt="weather-app-logo" class="landing-logo"
            style="width:100px;height:100px;font-weight:700">
        <h1 style="color: aliceblue;">Welcome to WeatherApp</h1>
        <p style="color: rgba(255, 252, 50, 0.704);"><b>“Accurate forecasts. Anytime. Anywhere.”</b></p>
        <p style="color:rgba(255, 252, 50, 0.704);"><b>“When clouds speak, we translate.”</b></p>
    </div>
    <div class="auth-box">
        <h2>Login</h2>

        <input type="text" id="username" placeholder="Username" autocomplete="username" />
        <input type="password" id="password" placeholder="Password" autocomplete="current-password" />

        <button id="login-btn" type="button">Login</button>
        <button id="signup-btn" type="button">Sign Up</button>

        <p id="auth-msg"></p>
    </div>

    <script>
        // Redirect to home if already logged in
        (function () {
            if (localStorage.getItem('loggedUser')) {
                window.location.replace('index.html');
            }
        })();

        function setMsg(t) { const m = document.getElementById('auth-msg'); if (m) m.textContent = t; }

        // Very simple demo signup: stores user in localStorage (NOT secure for production)
        function signup() {
            const u = document.getElementById('username').value.trim();
            const p = document.getElementById('password').value.trim();
            if (!u || !p) { setMsg('❌ Enter username & password'); return; }
            if (localStorage.getItem('user:' + u)) { setMsg('❌ User already exists'); return; }
            localStorage.setItem('user:' + u, p);
            setMsg('✅ Signup successful! Please login.');
        }

        function login() {
            const u = document.getElementById('username').value.trim();
            const p = document.getElementById('password').value.trim();
            const stored = localStorage.getItem('user:' + u);
            if (stored && stored === p) {
                localStorage.setItem('loggedUser', u);
                setMsg('✅ Login successful…');
                window.location.replace('index.html');
            } else {
                setMsg('❌ Invalid credentials');
            }
        }

        document.getElementById('signup-btn').addEventListener('click', signup);
        document.getElementById('login-btn').addEventListener('click', login);
        document.getElementById('username').addEventListener('keydown', e => { if (e.key === 'Enter') login(); });
        document.getElementById('password').addEventListener('keydown', e => { if (e.key === 'Enter') login(); });
    </script>
</body>

</html>